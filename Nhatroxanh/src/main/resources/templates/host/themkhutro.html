<!DOCTYPE html>
<html lang="en">

<head th:replace="~{/layouts/head}">
    <title>Nh√† Tr·ªç Xanh</title>
</head>

<body class="themkhutro">
    <!-- SIDEBAR -->
    <div th:replace="~{/layouts/sidebar-host}"></div>

    <!-- Main Content -->
    <div class="main-content-host" id="mainContentHost">
        <div class="content-container-host">
            <!-- Header Section -->
            <div class="page-header-host">
                <h1 class="page-title-host" id="pageTitle">TH√äM KHU TR·ªå M·ªöI</h1>
                <div class="header-buttons-host">
                    <a th:href="@{/chu-tro/thong-tin-tro}" style="text-decoration: none;">
                        <button class="btn-save-host btn-secondary-host" id="backButtonHost">
                            <i class="fas fa-arrow-left me-2"></i>
                            Quay l·∫°i
                        </button>
                    </a>
                </div>
            </div>

            <!-- Form Container -->
            <div class="form-container-host">
                <form id="addHostelFormHost" class="add-hostel-form-host" th:action="@{/chu-tro/them-khu-tro}" method="post">

                    <!-- Th√¥ng tin c∆° b·∫£n Section -->
                    <div class="form-section-host">
                        <h3 class="section-title-host">Th√¥ng tin c∆° b·∫£n</h3>
                        <div class="section-content-host">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="hostelIdHost" class="form-label-host">ID khu tr·ªç</label>
                                        <input type="text" class="form-control-host" id="hostelIdHost" placeholder="1"
                                            value="1" th:value="${hostel != null ? hostel.hostelId : ''}" readonly>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="hostelNameHost" class="form-label-host">Khu tr·ªç</label>
                                        <input type="text" class="form-control-host" id="hostelNameHost"
                                            th:value="${hostel != null ? hostel.name : ''}" placeholder="Khu A">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="createDateHost" class="form-label-host">Ng√†y t·∫°o</label>
                                        <input type="date" class="form-control-host" id="createDateHost"
                                            th:value="${#dates.format(#dates.createNow(), 'dd-MM-yyyy')}" readonly>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="roomCountHost" class="form-label-host">S·ªë ph√≤ng</label>
                                        <input type="number" class="form-control-host" id="roomCountHost"
                                            th:value="${hostel != null ? hostel.roomNumber : ''}" placeholder="20">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="statusHost" class="form-label-host">Tr·∫°ng th√°i</label>
                                        <select class="form-select-host" id="statusHost">
                                            <option value="active">ƒêang ho·∫°t ƒë·ªông</option>
                                            <option value="inactive">Ng∆∞ng ho·∫°t ƒë·ªông</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section: ƒê·ªãa ch·ªâ -->
                    <div class="form-section-host">
                        <h3 class="section-title-host">ƒê·ªãa ch·ªâ</h3>
                        <div class="section-content-host">
                            <div class="row g-3">
                                <!-- T·ªânh/Th√†nh ph·ªë -->
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="citySelect" class="form-label-host">T·ªânh/Th√†nh ph·ªë</label>
                                        <select id="citySelect" class="form-select-host">
                                            <option value="">Ch·ªçn t·ªânh/th√†nh ph·ªë</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Qu·∫≠n/Huy·ªán -->
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="districtSelect" class="form-label-host">Qu·∫≠n/Huy·ªán</label>
                                        <select id="districtSelect" class="form-select-host" disabled>
                                            <option value="">Ch·ªçn qu·∫≠n/huy·ªán</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Ph∆∞·ªùng/X√£ -->
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="wardSelect" class="form-label-host">Ph∆∞·ªùng/X√£</label>
                                        <select id="wardSelect" class="form-select-host" disabled>
                                            <option value="">Ch·ªçn ph∆∞·ªùng/x√£</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- ƒê∆∞·ªùng/Ph·ªë -->
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="streetInput" class="form-label-host">ƒê∆∞·ªùng/Ph·ªë</label>
                                        <input type="text" id="streetInput" class="form-control-host" placeholder="Nh·∫≠p t√™n ƒë∆∞·ªùng/ph·ªë">
                                    </div>
                                </div>

                                <!-- S·ªë nh√† -->
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="houseNumberInput" class="form-label-host">S·ªë nh√†</label>
                                        <input type="text" id="houseNumberInput" class="form-control-host" placeholder="123">
                                    </div>
                                </div>

                                <!-- ƒê·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß (readonly) -->
                                <div class="col-md-6">
                                    <div class="form-group-host">
                                        <label for="fullAddressInput" class="form-label-host">ƒê·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß</label>
                                        <input type="text" id="fullAddressInput" class="form-control-host" placeholder="ƒê·ªãa ch·ªâ s·∫Ω t·ª± ƒë·ªông t·∫°o" readonly>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- üîí C√°c input hidden ƒë·ªÉ ƒë·∫©y v√†o DTO -->
                        <input type="hidden" id="provinceCodeHost" name="province">
                        <input type="hidden" id="provinceNameHost" name="provinceName">

                        <input type="hidden" id="districtCodeHost" name="district">
                        <input type="hidden" id="districtNameHost" name="districtName">

                        <input type="hidden" id="wardCodeHost" name="ward">
                        <input type="hidden" id="wardNameHost" name="wardName">

                        <input type="hidden" id="streetHost" name="street">
                        <input type="hidden" id="houseNumberHost" name="houseNumber">
                    </div>



                    <!-- M√¥ t·∫£ Section -->
                    <div class="form-section-host">
                        <h3 class="section-title-host">M√¥ t·∫£</h3>
                        <div class="section-content-host">
                            <div class="form-group-host">
                                <textarea class="form-textarea-host" id="descriptionHost" rows="6"
                                    placeholder="Nh·∫≠p m√¥ t·∫£ v·ªÅ khu tr·ªç..."></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group-host text-end mt-3">
                        <button class="btn-save-host" id="saveButtonHost" type="submit">
                            <i class="fas fa-save me-2"></i>
                            L∆∞u th√¥ng tin
                        </button>
                    </div>

                </form>
            </div>
        </div>
    </div>
    <script th:src="@{/js/api-map.js}"></script>
    <script>
    document.getElementById("addHostelFormHost").addEventListener("submit", function (e) {
        const address = window.vietnamAddressAPI.getSelectedAddress();

        document.getElementById("provinceCodeHost").value = address.province.code;
        document.getElementById("provinceNameHost").value = address.province.name;

        document.getElementById("districtCodeHost").value = address.district.code;
        document.getElementById("districtNameHost").value = address.district.name;

        document.getElementById("wardCodeHost").value = address.ward.code;
        document.getElementById("wardNameHost").value = address.ward.name;

        document.getElementById("streetHost").value = address.street;
        document.getElementById("houseNumberHost").value = address.houseNumber;
    });
    </script>

</body>

</html>